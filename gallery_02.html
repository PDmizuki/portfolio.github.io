<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nature inspire | NFT</title>

    <!-- CSS -->
    <link rel="stylesheet" href="css/noise.css">
    <link rel="stylesheet" href="css/sp.css">
    <link rel="stylesheet" href="css/all.css">
    <link rel="stylesheet" href="css/gallery.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/menu.css">
    <style>
        #loading-bg,.typing-container {
            display: none;
        }
    </style>

    <!-- JS -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" crossorigin="anonymous"></script>

    <!-- 背景用 JavaScript -->
    <script src="js/jquery.ripples-min.js"></script>
    <script src="js/bg_wave.js"></script>

    <script src="js/page-nation.js"></script>
    <script src="js/side_footer.js"></script>
    <script src="js/cursor.js"></script>
    <script src="js/menu.js"></script>

    <!-- Font -->
    <link rel="stylesheet" href="https://use.typekit.net/meg7mel.css">

    <!-- ✅ SEO強化 -->
    <meta name="description"
        content="Nature inspire は、自然とアートの融合をテーマにしたポートフォリオサイトです。繊細なデザインとインスピレーションを通して、独自のビジュアル表現を紹介します。">
    <meta name="keywords" content="ポートフォリオ, 自然, アート, Webデザイン, 作品集, クリエイティブ, Nature inspire">
    <meta name="author" content="あなたの名前（またはブランド名）">
    <link rel="canonical" href="https://mizukioyama.github.io/"> <!-- ご自身のURLに差し替えてください -->

    <!-- OGP（SNSシェア用） -->
    <meta property="og:title" content="Nature inspire | 自然とアートのポートフォリオ">
    <meta property="og:description" content="自然から着想を得たアート作品をまとめたポートフォリオサイト。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mizukioyama.github.io/">
    <meta property="og:image" content="https://mizukioyama.github.io/images/ogp.jpg"> <!-- OGP画像を用意してください -->
    <meta property="og:site_name" content="Nature inspire">

    <!-- Twitterカード -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Nature inspire | 自然とアートのポートフォリオ">
    <meta name="twitter:description" content="自然から着想を得たアート作品をまとめたポートフォリオサイト。">
    <meta name="twitter:image" content="https://mizukioyama.github.io/images/ogp.jpg">

    <!-- Favicon -->
    <link rel="icon" href="favicon.ico">

    <!-- キャッシュ制御 -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <!-- セキュリティ -->
    <meta name="referrer" content="strict-origin">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">

    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' https://code.jquery.com https://cdn.jsdelivr.net 'unsafe-inline';
        style-src 'self' 'unsafe-inline' https://use.typekit.net;
        font-src 'self' https://use.typekit.net https://fonts.gstatic.com;
        img-src 'self' data: https:;
        connect-src 'self';
        object-src 'none';
        ">

</head>

<body data-current-page="2" data-current-category="all">
  <div id="header-container"></div>
  <div class="ripples"></div>

  <main class="gallery">
    <h1 class="noise">Art Index</h1>
    <p class="noise">Nature inspire</p>
    <div class="scroll"></div>
    <div id="sidebar-container"></div>

    <div id="gallery-container" class="content"></div> <!-- ← ココが必要 -->
<!-- ページネーション表示 -->
<div id="pagination">
  <button id="prevBtn">Prev</button>
  <span id="pageInfo"></span>
  <button id="nextBtn">Next</button>
</div>
<div id="pagination"></div>

  </main>

  <div id="footer-container"></div>

<script>
  const artworks = [
    {
      title: "心樹 / 2023",
      caption: "アナログ作品「挑戦」から芽吹いた、デジタルの樹...",
      category: "digital",
      year: "2023",
      img: "https://raw.githubusercontent.com/mizukioyama/website/main/img/230053-2.jpg",
      type: "digital / Exhibition"
    },
    {
      title: "No title / 2023",
      caption: "この作品は、...",
      category: "digital",
      year: "2023",
      img: "https://raw.githubusercontent.com/mizukioyama/website/main/img/21ai.jpg",
      type: "digital"
    },
    {
      title: "No title / 2023",
      caption: "この作品は、...",
      category: "analog",
      year: "2023",
      img: "https://raw.githubusercontent.com/mizukioyama/website/main/img/230011-2.jpg",
      type: "analog"
    },
    {
      title: "未公開作品 / 2022",
      caption: "これは未発表の作品です。",
      category: "unreleased",
      year: "2022",
      img: "https://raw.githubusercontent.com/mizukioyama/website/main/img/placeholder.jpg",
      type: "unreleased"
    },
    {
      title: "未公開作品 / 2022",
      caption: "これは未発表の作品です。",
      category: "unreleased",
      year: "2022",
      img: "https://raw.githubusercontent.com/mizukioyama/website/main/img/placeholder.jpg",
      type: "unreleased"
    }
  ];

let currentPage = 1;
let selectedCategory = "all";
let itemsPerPage = 4;

function filterArtworks() {
  return artworks.filter(item => {
    return selectedCategory === "all" || item.category === selectedCategory;
  });
}

function renderGallery() {
  const container = document.getElementById("gallery-container");
  const filtered = filterArtworks();
  const start = (currentPage - 1) * itemsPerPage;
  const end = start + itemsPerPage;
  const pageItems = filtered.slice(start, end);

  container.innerHTML = pageItems.map(item => `
    <div class="work">
      <img src="${item.img}" alt="${item.title}">
      <h3>${item.title}</h3>
      <p>${item.caption}</p>
    </div>
  `).join("");

  // ページ情報更新
  document.getElementById("pageInfo").textContent = `Page ${currentPage} / ${Math.ceil(filtered.length / itemsPerPage)}`;
}

document.querySelectorAll(".category-nav button").forEach(button => {
  button.addEventListener("click", () => {
    selectedCategory = button.dataset.category;
    currentPage = 1;
    renderGallery();
  });
});

document.querySelectorAll(".page-link").forEach(link => {
  link.addEventListener("click", e => {
    e.preventDefault();
    currentPage = parseInt(link.dataset.page);
    renderGallery();
  });
});

document.querySelector(".left-arrow").addEventListener("click", () => {
  if (currentPage > 1) {
    currentPage--;
    renderGallery();
  }
});

document.querySelector(".right-arrow").addEventListener("click", () => {
  const filtered = filterArtworks();
  if (currentPage < Math.ceil(filtered.length / itemsPerPage)) {
    currentPage++;
    renderGallery();
  }
});


document.addEventListener("DOMContentLoaded", () => {
  renderGallery();
});

</script>

<script>
    // 初期化
document.addEventListener('DOMContentLoaded', () => {
  loadFromURL();
  renderGallery();
});

// 作品フィルター
function filterArtworks() { … }

// ギャラリー描画
function renderGallery() {
  const filtered = filterArtworks();
  const start = (currentPage - 1) * itemsPerPage;
  const pageItems = filtered.slice(start, start + itemsPerPage);

  const container = document.getElementById('gallery-container');
  container.classList.add('fade-out');
  setTimeout(() => {
    container.innerHTML = pageItems.map(item => `…`).join('');
    renderPagination(filtered.length);
    updateURL();
    container.classList.remove('fade-out');
    container.classList.add('fade-in');
    setTimeout(() => container.classList.remove('fade-in'), 300);
  }, 300);
}

// ページ生成
function renderPagination(count) { … }

function renderPagination(filteredLength) {
  const pagination = document.getElementById('pagination');
  const totalPages = Math.ceil(filteredLength / itemsPerPage) || 1;
  let html = '';

  for (let p = 1; p <= totalPages; p++) {
    html += `<button class="page-link${p===currentPage ? ' active' : ''}" data-page="${p}">${p}</button>`;
  }
  pagination.innerHTML = html;

  // ページボタンにイベント追加
  pagination.querySelectorAll('.page-link').forEach(btn => {
    btn.addEventListener('click', () => {
      currentPage = parseInt(btn.dataset.page);
      renderGallery();
    });
  });
}


// URL処理
function updateURL() {
  const params = new URLSearchParams();
  if (selectedCategory !== 'all') params.set('category', selectedCategory);
  if (currentPage > 1) params.set('page', currentPage);
  history.replaceState(null, '', '?' + params.toString());
}

function loadFromURL() {
  const params = new URLSearchParams(window.location.search);
  selectedCategory = params.get('category') || 'all';
  currentPage = parseInt(params.get('page')) || 1;
}

</script>

</body>

</html>